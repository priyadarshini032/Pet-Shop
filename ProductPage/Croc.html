<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Idept Dog Toy Ball</title>

    <!--BootstrapCss-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
    />
    <!-- Custom CssStyling -->
    <link rel="stylesheet" href="../CssStyling/nav.css" />
    <link rel="stylesheet" href="../CssStyling/footer.css">
    <link rel="stylesheet" href="../CssStyling/product.css">
    <link rel="stylesheet" href="../CssStyling/addcart.css">
  </head>
  <body>
    <!------------------------ ProductDetails ------------------------>
    <div class="productcartdiv">
      <div class="close"><iconify-icon class="closeicon" icon="fontisto:close"></iconify-icon></div>
      <h1 class="carttext">Your Cart</h1>
      <div class="productadddiv">
        <ul class="productadded"></ul>
      </div>
      <button class="checkout">Checkout</button>
    </div>
    <!------------------------ ProductDetails-End ------------------------>
    <!-- MenuContainer -->
    <!--NavBar-->
    <header>
      <div class="link-container position-relative">
        <ul class="links d-flex position-relative">
          <li class="link-home position-absolute">
            <a href="../index.html" class="home"
              >PetSh<span
                class="iconify position-relative"
                data-icon="material-symbols:pets"
                style="color: #ffb648"
              ></span
              >p
            </a>
          </li>
          <!--NavActive not done-->
          <div class="menu d-flex position-absolute">
            <li class="link-about">
              <a href="../Pages/about.html" class="about">About</a>
            </li>
            <li class="link-category">
              <a href="../Pages/category.html" class="category">Category</a>
            </li>
            <li class="link-whishlist">
              <a href="../Pages/wishlist.html" class="whishlist">Whishlist</a>
            </li>
          </div>
        </ul>
      </div>
      <div class="inputcontainer position-relative">
        <div class="searchcontainer position-absolute d-flex">
          <span
            class="iconify position-absolute"
            data-icon="akar-icons:search"
          ></span>
          <input
            type="text"
            class="searchinput position-absolute"
            placeholder="Search"
          />
        </div>
        <div class="user-container float-end position-relative d-flex">
          <a href="../Pages/user.html">
            <button class="user d-flex">
              <span
                class="iconify"
                data-icon="emojione-monotone:dog-face"
                style="color: black"
              ></span>
            </button>
          </a>
        </div>
      </div>
    </header>

    <!-- Product Details -->
    <div class="product">
    <div class="productinfo" style="right:10rem;">
      <h1 class="toyballname">Tails Zoozies Crocodile</h1>
      <div class="review">
        <span
          class="iconify"
          data-icon="emojione:star"
          style="color: #ffce31"
        ></span>
        <span
          class="iconify"
          data-icon="emojione:star"
          style="color: #ffce31"
        ></span>
        <span
          class="iconify"
          data-icon="emojione:star"
          style="color: #ffce31"
        ></span>
        <span
          class="iconify"
          data-icon="emojione:star"
          style="color: #ffce31"
        ></span>
        <span
          class="iconify"
          data-icon="emojione:star"
          style="color: #ffce31"
        ></span>
      </div>
      <h2 class="toyballcost"> &#8377 1500</h2>
      <!-- <a href="../Pages/userproductdetails.html" class="buydetails"> -->
          <button class="buybtn">Buy</button>
      </a>
      <a href="" class="whishlist">
          <button class="wishbtn">Whishlist</button>
      </a>
    </div>
    <div class="imagecontainer">
      <img
        class="toyball"
        src="https://m.media-amazon.com/images/I/71XwvVLXVHL._SX425_.jpg"
        alt="Squeakers"
      />
    </div>
    <div class="borderline"></div>
</div>
    <!-- Product Details -->


    <!-- Categorydiv -->
    <!-- dOGdIV -->
    <div class="bodypage">
        <div class="categorydog position-relative">
          <!-- Create an id to redirect to the dog category when clicked on second page dog icon -->
          <div
            id="carouselExampleControlsNoTouching"
            class="carousel slide"
            data-bs-touch="false"
            data-bs-interval="false"
          >
            <div class="carousel-inner">
              <div class="carousel-item active">
                <!-- <div>
                  <img src="..." class="d-block w-100" alt="..." />
                </div> -->
              </div>
              <div class="carousel-item" id="dogdata2">
                <!-- <img src="..." class="dogtoyimage d-block w-100" alt="..."> -->
              </div>
            </div>
            <button
              class="carousel-control-prev"
              type="button"
              data-bs-target="#carouselExampleControlsNoTouching"
              data-bs-slide="prev"
            >
              <!-- <span class="carousel-control-prev-icon" aria-hidden="true"></span> -->
              <span class="iconify" id="prev" data-icon="bi:arrow-down-circle-fill" data-rotate="90deg">Next</span>
            </button>
            <button
              class="carousel-control-next"
              id="next"
              type="button"
              data-bs-target="#carouselExampleControlsNoTouching"
              data-bs-slide="next"
            >
              <!-- <span class="carousel-control-next-icon" aria-hidden="true"></span> -->
              <span class="iconify" id="next" data-icon="bi:arrow-down-circle-fill" data-rotate="270deg"></span>
            </button>
          </div>
        </div>
      </div>
      <!-- CategoryEnd -->
       <!-- Footer -->
    <div class="footer">
        <div class="information">
          <h1 class="contact">Contact</h1>
          <ul class="listofcontacts">
            <li class="email">Email: <a href="" class="emailid">varunkrishnankv2002@gmail.com</a></li>
            <li class="telephone">Telephone No.: 8108703112</li>
            <li class="social">Social Media:</li>
          </ul>
        </div>
      </div>
    <!--Bootstrap-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <!--Iconify-->
    <script src="https://code.iconify.design/2/2.2.1/iconify.min.js"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.0-beta.3/iconify-icon.min.js"></script>

    <!-- CustomJavaScript -->
    <script src="../JavaScript/productpsge.js"></script>
    <script src="../PagesJavascript/croc.js"></script>

    
    <!-- --------------ProductDetails--------------------->
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-app.js";
      import { getDatabase,ref,update,set,child,get} from "https://www.gstatic.com/firebasejs/9.9.2/firebase-database.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyBuz77zVg3qjDcwBpsYEmZtVTcycKHyKBU",
        authDomain: "productdetails-95180.firebaseapp.com",
        projectId: "productdetails-95180",
        storageBucket: "productdetails-95180.appspot.com",
        messagingSenderId: "405110418015",
        appId: "1:405110418015:web:42f424c6a450eac3a889ea"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const crocbuy=document.querySelector(".buybtn");
      const db=getDatabase(app);

      if(crocbuy)
      crocbuy.addEventListener('click',(e)=>{
        var productTitle=document.querySelector(".toyballname").textContent;
        var productCost=document.querySelector(".toyballcost").textContent;
        var productimage=document.querySelector(".toyball");

        var productcartdiv=document.querySelector(".productcartdiv");
        var product=document.querySelector(".product");
        var productinfo=document.querySelector(".productinfo");
        var bodypage=document.querySelector(".bodypage");
        var backgroundblur=document.getElementsByTagName('header')[0];

        function open(){
          productcartdiv.classList.add('productcartdivopen')
          backgroundblur.classList.add('backgroundblur')
          product.classList.add('backgroundblur')
          productinfo.classList.add('top')
          bodypage.classList.add('backgroundblur')
        }
        set(ref(db,"BallProductNameCost/"+productTitle),{
          Name:productTitle,
          Cost:productCost,
          Image:productimage.src
        })
        .then(()=>{
          open();
          GetAllProduct();
        })
        .catch((error)=>{
          alert("Details didn't catch",error);
        })
      //-------------------------------------------------------DATA--------------------------------------------//
      const products=[];
        function GetAllProduct(){
          GetAllProduct=function(){};
          const dbRef=ref(db);

          get(child(dbRef,"BallProductNameCost"))
          .then((snapshot)=>{
            snapshot.forEach(childSnapshot => {
            products.push(childSnapshot.val());
          });
          AddAllItems(products);
          console.log(products);
        })
      }

    // ---------------------Addin Cart-------------------------//
    const productadded=document.querySelector(".productadded");
    function AddAllItems(Product){
      Product.forEach(elemennt=>{
      const productlist=document.createElement("li");
      productlist.classList.add('itemlist')
      productlist.textContent=elemennt.Name;
      productadded.appendChild(productlist);

      const productimage=document.createElement("img");
      productimage.classList.add('itemimage')
      productimage.src=elemennt.Image;
      productadded.appendChild(productimage);
      });
    }
  });

  const closeicon=document.querySelector('.closeicon');
closeicon.addEventListener('click',()=>{
  var productcartdiv=document.querySelector(".productcartdiv");
  var product=document.querySelector(".product");
  var productinfo=document.querySelector(".productinfo");
  var bodypage=document.querySelector(".bodypage");
  var backgroundblur=document.getElementsByTagName('header')[0];
  productcartdiv.classList.remove('productcartdivopen')
  backgroundblur.classList.remove('backgroundblur')
  product.classList.remove('backgroundblur')
  productinfo.classList.remove('top')
  bodypage.classList.remove('backgroundblur')
})

    </script>
  </body>
</html>
